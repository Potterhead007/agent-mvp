import{aR as u,r as o}from"./index-DMLsphgf.js";import{r as y,w as C}from"./config-CjXRnFJJ.js";function E(){const{config:a,loading:c,error:f,dirty:g,setConfig:n,setLoading:e,setError:t,setDirty:i}=u(),s=o.useCallback(async()=>{e(!0);try{const r=await y();n(r)}catch(r){t(r instanceof Error?r.message:String(r))}finally{e(!1)}},[n,e,t]),l=o.useCallback(async()=>{if(a)try{await C(a),i(!1),t(null)}catch(r){t(r instanceof Error?r.message:String(r))}},[a,i,t]);return o.useEffect(()=>{a||s()},[a,s]),{config:a,loading:c,error:f,dirty:g,reload:s,save:l}}export{E as u};
